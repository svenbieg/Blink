//===============
// Peripherals.h
//===============

#pragma once


//===========
// Namespace
//===========

namespace Devices {
	namespace System {


//=================
// Low Peripherals
//=================

constexpr SIZE_T LOW_IO_BASE	=0x3F800000;
constexpr SIZE_T LOW_IO_END		=0x3FFFFFFF;
constexpr SIZE_T LOW_IO_SIZE	=0x00800000;


//=======================
// ARM Local Peripherals
//=======================

constexpr SIZE_T LOCAL_IO_BASE	=0xFF800000;
constexpr SIZE_T LOCAL_IO_END	=0xFFFFFFFF;


//===============
// Cached Memory
//===============

constexpr SIZE_T CACHED_BASE	=0x00000000;
constexpr SIZE_T CACHED_END		=0xFFFFFFFF; // 0xFFFFFFFF (4GB)


//=================
// Uncached Memory
//=================

constexpr SIZE_T UNCACHED_BASE	=0x100000000; // 0x100000000 (4GB)
constexpr SIZE_T UNCACHED_END	=0x1FFFFFFFF; // 0x1FFFFFFFF (8GB)


//=================
// AXI Peripherals
//=================

constexpr SIZE_T AXI_IO_BASE	=0x1000000000; // 0x1000000000 (64GB)
constexpr SIZE_T AXI_IO_END		=0x101FFFFFFF;

constexpr SIZE_T AXI_DMA_BASE			=AXI_IO_BASE+0x00010000;
constexpr SIZE_T AXI_RESET_RESCAL_BASE	=AXI_IO_BASE+0x00119500;
constexpr SIZE_T AXI_PCIE_HOST_BASE		=AXI_IO_BASE+0x00120000;
constexpr SIZE_T AXI_MSI_BASE			=AXI_IO_BASE+0x00130000;
//constexpr SIZE_T AXI_EMMC_BASE		=AXI_IO_BASE+0x00FFF000;
constexpr SIZE_T AXI_EMMC_BASE			=AXI_IO_BASE+0x01100000;
constexpr SIZE_T AXI_RESET_BASE			=AXI_IO_BASE+0x01504318;


//=================
// ARM Peripherals
//=================

constexpr SIZE_T SOC_IO_BASE	=0x1060000000;
constexpr SIZE_T SOC_IO_END		=0x107FFFFFFF;

constexpr SIZE_T ARM_IO_BASE	=0x107C000000; // 0x107C000000
constexpr SIZE_T ARM_IO_END		=0x107FFFFFFF;

//constexpr SIZE_T ARM_SYSTIMER_BASE			=ARM_IO_BASE+0x00003000; // System Timer
//constexpr SIZE_T ARM_MPHI_BASE				=ARM_IO_BASE+0x00006000; // Host Port
//constexpr SIZE_T ARM_IC_BASE					=ARM_IO_BASE+0x0000B000; // Interrupt Controller
//constexpr SIZE_T ARM_TIMER_BASE				=ARM_IO_BASE+0x0000B400; // ARM Timer
//constexpr SIZE_T ARM_VCHIQ_BASE				=ARM_IO_BASE+0x0000B840; // VC4
constexpr SIZE_T ARM_MAILBOX_BASE				=ARM_IO_BASE+0x00013880;
//constexpr SIZE_T ARM_CM_BASE					=ARM_IO_BASE+0x00101000; // Clock Manager
//constexpr SIZE_T ARM_HW_RNG_BASE				=ARM_IO_BASE+0x00104000; // Random Nuber Generator
//constexpr SIZE_T ARM_GPIO_BASE				=ARM_IO_BASE+0x00200000;
//constexpr SIZE_T ARM_BSC0_BASE				=ARM_IO_BASE+0x00202000;
//constexpr SIZE_T ARM_PCM_BASE					=ARM_IO_BASE+0x00203000;
//constexpr SIZE_T ARM_SPI0_BASE				=ARM_IO_BASE+0x00204000;
//constexpr SIZE_T ARM_PWM0_BASE				=ARM_IO_BASE+0x0020C000;
//constexpr SIZE_T ARM_PWM1_BASE				=ARM_IO_BASE+0x0020C800;
//constexpr SIZE_T ARM_BSC_SPI_SLAVE_BASE		=ARM_IO_BASE+0x00214000;
//constexpr SIZE_T ARM_AUX_BASE					=ARM_IO_BASE+0x00215000;
//constexpr SIZE_T ARM_CSI0_BASE				=ARM_IO_BASE+0x00800000;
//constexpr SIZE_T ARM_CSI1_BASE				=ARM_IO_BASE+0x00801000;
//constexpr SIZE_T ARM_BSC1_BASE				=ARM_IO_BASE+0x00804000;
//constexpr SIZE_T ARM_USB_BASE					=ARM_IO_BASE+0x00980000;
//constexpr SIZE_T ARM_HDMI_BASE				=ARM_IO_BASE+0x00F00700;
//constexpr SIZE_T ARM_PHY_BASE					=ARM_IO_BASE+0x00F00F00;
//constexpr SIZE_T ARM_RAM_BASE					=ARM_IO_BASE+0x00F01B00;
//constexpr SIZE_T ARM_HD_BASE					=ARM_IO_BASE+0x00F20000;
constexpr SIZE_T ARM_UART_BASE					=ARM_IO_BASE+0x01001000; // PL011
constexpr SIZE_T ARM_PM_BASE					=ARM_IO_BASE+0x01200000; // Power Manager
constexpr SIZE_T ARM_PINCTRL1_BASE				=ARM_IO_BASE+0x01504100;
constexpr SIZE_T ARM_GPIO1_BASE					=ARM_IO_BASE+0x01508500;
constexpr SIZE_T ARM_GPIO2_BASE					=ARM_IO_BASE+0x01517C00;
constexpr SIZE_T ARM_GICD_BASE					=ARM_IO_BASE+0x03FF9000;
constexpr SIZE_T ARM_GICC_BASE					=ARM_IO_BASE+0x03FFA000;


//==================
// PCIE Peripherals
//==================

constexpr SIZE_T PCIE_IO_BASE	=0x1F00000000;
constexpr SIZE_T PCIE_IO_END	=0x1FFFFFFFFF; // 128GB

constexpr SIZE_T RP1_IO_BASE	=0x1F00000000; // 0x1F00000000
constexpr SIZE_T RP1_IO_END		=0x1F004FFFFF;

constexpr SIZE_T RP1_SYSINFO_BASE				=RP1_IO_BASE+0x00000000;
constexpr SIZE_T RP1_SYSCFG_BASE				=RP1_IO_BASE+0x00008000;
constexpr SIZE_T RP1_OTP_BASE					=RP1_IO_BASE+0x0000C000;
constexpr SIZE_T RP1_POWER_BASE					=RP1_IO_BASE+0x00010000;
constexpr SIZE_T RP1_RESETS_BASE				=RP1_IO_BASE+0x00014000;
constexpr SIZE_T RP1_CLOCKS_MAIN_BASE			=RP1_IO_BASE+0x00018000;
constexpr SIZE_T RP1_COCKS_VIDEO_BASE			=RP1_IO_BASE+0x0001C000;
constexpr SIZE_T RP1_PLL_SYS_BASE				=RP1_IO_BASE+0x00020000;
constexpr SIZE_T RP1_PLL_AUDIO_BASE				=RP1_IO_BASE+0x00024000;
constexpr SIZE_T RP1_PLL_VIDEO_BASE				=RP1_IO_BASE+0x00028000;
constexpr SIZE_T RP1_UART0_BASE					=RP1_IO_BASE+0x00030000; // PL011
constexpr SIZE_T RP1_UART1_BASE					=RP1_IO_BASE+0x00034000; // ..
constexpr SIZE_T RP1_UART2_BASE					=RP1_IO_BASE+0x00038000; // ..
constexpr SIZE_T RP1_UART3_BASE					=RP1_IO_BASE+0x0003C000; // ..
constexpr SIZE_T RP1_UART4_BASE					=RP1_IO_BASE+0x00040000; // ..
constexpr SIZE_T RP1_UART5_BASE					=RP1_IO_BASE+0x00044000; // ..
constexpr SIZE_T RP1_SPI8_BASE					=RP1_IO_BASE+0x0004C000;
constexpr SIZE_T RP1_SPI0_BASE					=RP1_IO_BASE+0x00050000;
constexpr SIZE_T RP1_SPI1_BASE					=RP1_IO_BASE+0x00054000;
constexpr SIZE_T RP1_SPI2_BASE					=RP1_IO_BASE+0x00058000;
constexpr SIZE_T RP1_SPI3_BASE					=RP1_IO_BASE+0x0005C000;
constexpr SIZE_T RP1_SPI4_BASE					=RP1_IO_BASE+0x00060000;
constexpr SIZE_T RP1_SPI5_BASE					=RP1_IO_BASE+0x00064000;
constexpr SIZE_T RP1_SPI6_BASE					=RP1_IO_BASE+0x00068000;
constexpr SIZE_T RP1_SPI7_BASE					=RP1_IO_BASE+0x0006C000;
constexpr SIZE_T RP1_I2C0_BASE					=RP1_IO_BASE+0x00070000;
constexpr SIZE_T RP1_I2C1_BASE					=RP1_IO_BASE+0x00074000;
constexpr SIZE_T RP1_I2C2_BASE					=RP1_IO_BASE+0x00078000;
constexpr SIZE_T RP1_I2C3_BASE					=RP1_IO_BASE+0x0007C000;
constexpr SIZE_T RP1_I2C4_BASE					=RP1_IO_BASE+0x00080000;
constexpr SIZE_T RP1_I2C5_BASE					=RP1_IO_BASE+0x00084000;
constexpr SIZE_T RP1_I2C6_BASE					=RP1_IO_BASE+0x00088000;
constexpr SIZE_T RP1_AUDIO_IN_BASE				=RP1_IO_BASE+0x00090000;
constexpr SIZE_T RP1_AUDIO_OUT_BASE				=RP1_IO_BASE+0x00094000;
constexpr SIZE_T RP1_PWM0_BASE					=RP1_IO_BASE+0x00098000;
constexpr SIZE_T RP1_PWM1_BASE					=RP1_IO_BASE+0x0009C000;
constexpr SIZE_T RP1_I2S0_BASE					=RP1_IO_BASE+0x000A0000;
constexpr SIZE_T RP1_I2S1_BASE					=RP1_IO_BASE+0x000A4000;
constexpr SIZE_T RP1_I2S2_BASE					=RP1_IO_BASE+0x000A8000;
constexpr SIZE_T RP1_TIMER_BASE					=RP1_IO_BASE+0x000AC000;
constexpr SIZE_T RP1_SDIO0_CFG_BASE				=RP1_IO_BASE+0x000B0000;
constexpr SIZE_T RP1_SDIO1_CFG_BASE				=RP1_IO_BASE+0x000B4000;
constexpr SIZE_T RP1_BUSFABRIC_MONITOR_BASE		=RP1_IO_BASE+0x000C0000;
constexpr SIZE_T RP1_BUSFABRIC_AXISHIM_BASE		=RP1_IO_BASE+0x000C4000;
constexpr SIZE_T RP1_ADC_BASE					=RP1_IO_BASE+0x000C8000;
constexpr SIZE_T RP1_GPIO0_BASE					=RP1_IO_BASE+0x000D0000;
//constexpr SIZE_T RP1_GPIO1_BASE				=RP1_IO_BASE+0x000D4000; // Reserved
//constexpr SIZE_T RP1_GPIO2_BASE				=RP1_IO_BASE+0x000D8000; // Reserved
constexpr SIZE_T RP1_SYS_RIO0_BASE				=RP1_IO_BASE+0x000E0000;
constexpr SIZE_T RP1_SYS_RIO1_BASE				=RP1_IO_BASE+0x000E4000;
constexpr SIZE_T RP1_SYS_RIO2_BASE				=RP1_IO_BASE+0x000E8000;
constexpr SIZE_T RP1_PADS0_BASE					=RP1_IO_BASE+0x000F0000;
//constexpr SIZE_T RP1_PADS1_BASE				=RP1_IO_BASE+0x000F4000; // Reserved
//constexpr SIZE_T RP1_PADS2_BASE				=RP1_IO_BASE+0x000F8000; // Reserved
constexpr SIZE_T RP1_PADS_ETH_BASE				=RP1_IO_BASE+0x000FC000;
constexpr SIZE_T RP1_ETH_BASE					=RP1_IO_BASE+0x00100000;
constexpr SIZE_T RP1_ETH_CFG_BASE				=RP1_IO_BASE+0x00104000;
constexpr SIZE_T RP1_INTC_BASE					=RP1_IO_BASE+0x00108000;
constexpr SIZE_T RP1_MIPI0_CSIDMA_BASE			=RP1_IO_BASE+0x00110000;
constexpr SIZE_T RP1_MIPI0_CSIHOST_BASE			=RP1_IO_BASE+0x00114000;
constexpr SIZE_T RP1_MIPI0_DSISMA_BASE			=RP1_IO_BASE+0x00118000;
constexpr SIZE_T RP1_MIPI0_DSIHOST_BASE			=RP1_IO_BASE+0x0011C000;
constexpr SIZE_T RP1_MIPI0_CFG_BASE				=RP1_IO_BASE+0x00120000;
constexpr SIZE_T RP1_MIPI0_ISP_BASE				=RP1_IO_BASE+0x00124000;
constexpr SIZE_T RP1_MIPI1_CSIDMA_BASE			=RP1_IO_BASE+0x00128000;
constexpr SIZE_T RP1_MIPI1_CSIHOST_BASE			=RP1_IO_BASE+0x0012C000;
constexpr SIZE_T RP1_MIPI1_DSISMA_BASE			=RP1_IO_BASE+0x00130000;
constexpr SIZE_T RP1_MIPI1_DSIHOST_BASE			=RP1_IO_BASE+0x00134000;
constexpr SIZE_T RP1_MIPI1_CFG_BASE				=RP1_IO_BASE+0x00138000;
constexpr SIZE_T RP1_MIPI1_ISP_BASE				=RP1_IO_BASE+0x0013C000;
constexpr SIZE_T RP1_VIDEO_OUT_CFG_BASE			=RP1_IO_BASE+0x00140000;
constexpr SIZE_T RP1_VIDEO_OUT_VEC_BASE			=RP1_IO_BASE+0x00144000;
constexpr SIZE_T RP1_VIDEO_OUT_DPI_BASE			=RP1_IO_BASE+0x00148000;
constexpr SIZE_T RP1_XOSC_BASE					=RP1_IO_BASE+0x00150000;
constexpr SIZE_T RP1_WATCHDOG_BASE				=RP1_IO_BASE+0x00154000;
constexpr SIZE_T RP1_DMA_TICK_BASE				=RP1_IO_BASE+0x00158000;
constexpr SIZE_T RP1_USBHOST0_CFG_BASE			=RP1_IO_BASE+0x00160000;
constexpr SIZE_T RP1_USBHOST1_CFG_BASE			=RP1_IO_BASE+0x00164000;
constexpr SIZE_T RP1_ROSC0_BASE					=RP1_IO_BASE+0x00168000;
constexpr SIZE_T RP1_ROSC1_BASE					=RP1_IO_BASE+0x0016C000;
constexpr SIZE_T RP1_VBUSCTRL_BASE				=RP1_IO_BASE+0x00170000;
constexpr SIZE_T RP1_TICKS_BASE					=RP1_IO_BASE+0x00174000;
constexpr SIZE_T RP1_PIO_BASE					=RP1_IO_BASE+0x00178000;
constexpr SIZE_T RP1_SDIO0_BASE					=RP1_IO_BASE+0x00180000;
constexpr SIZE_T RP1_SDIO1_BASE					=RP1_IO_BASE+0x00184000;
constexpr SIZE_T RP1_DMA_BASE					=RP1_IO_BASE+0x00188000;
constexpr SIZE_T RP1_USBHOST0_BASE				=RP1_IO_BASE+0x00200000;
constexpr SIZE_T RP1_USBHOST1_BASE				=RP1_IO_BASE+0x00300000;
constexpr SIZE_T RP1_EXAC_BASE					=RP1_IO_BASE+0x00400000;


//============
// Interrupts
//============

constexpr UINT IRQ_COUNT=512;

constexpr UINT IRQ_TASK_SWITCH=0;
constexpr UINT IRQ_SYSTIMER=30;
constexpr UINT IRQ_DMA0=112;
constexpr UINT IRQ_DMA1=113;
constexpr UINT IRQ_DMA2=114;
constexpr UINT IRQ_DMA3=115;
constexpr UINT IRQ_DMA4=116;
constexpr UINT IRQ_DMA5=117;
constexpr UINT IRQ_DMA6=118;
constexpr UINT IRQ_DMA7=119;
constexpr UINT IRQ_DMA8=120;
constexpr UINT IRQ_DMA9=121;
constexpr UINT IRQ_DMA10=122;
constexpr UINT IRQ_DMA11=123;
constexpr UINT IRQ_UART10=153;
constexpr UINT IRQ_PCIE_HOST_INTA=261;
constexpr UINT IRQ_PCIE_HOST_MSI=266;
constexpr UINT IRQ_SDIO2=306;

}}
